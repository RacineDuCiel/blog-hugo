{{ define "main" }}
{{/*
BEST PRACTICE: Hugo Pipes pour les assets
- CSS chargé en premier pour éviter le FOUC
- JS minifié et fingerprinted pour un cache optimal
- SRI pour la sécurité
*/}}

<div class="search-container" role="search">
    <div class="search-box">
        <input type="text" id="search-input" placeholder="Rechercher..." aria-label="Recherche">
    </div>
    <div id="search-results" aria-live="polite" aria-atomic="true"></div>
</div>

{{/* JS — Minifié + Fingerprint + SRI */}}
{{ $fuse := resources.Get "js/fuse.js" | minify | fingerprint }}
{{ $search := resources.Get "js/search.js" | minify | fingerprint }}
<script src="{{ $fuse.RelPermalink }}" integrity="{{ $fuse.Data.Integrity }}" crossorigin="anonymous"></script>
<script src="{{ $search.RelPermalink }}" integrity="{{ $search.Data.Integrity }}" crossorigin="anonymous"></script>
{{ end }}