{{/*
Shortcode: TDEE Calculator (Enhanced v2)
Usage: {{< calculator>}}
*/}}

<div class="calc-container">
    <div class="calc-section">
        <h4>Données personnelles</h4>
        <div class="calc-row">
            <div>
                <label for="calc-sex">Sexe</label>
                <select id="calc-sex">
                    <option value="m">Homme</option>
                    <option value="f">Femme</option>
                </select>
            </div>
            <div>
                <label for="calc-age">Âge</label>
                <input type="number" id="calc-age" min="15" max="100" value="30">
            </div>
        </div>
        <div class="calc-row">
            <div>
                <label for="calc-weight">Poids (kg)</label>
                <input type="number" id="calc-weight" min="30" max="250" value="75">
            </div>
            <div>
                <label for="calc-height">Taille (cm)</label>
                <input type="number" id="calc-height" min="100" max="250" value="175">
            </div>
        </div>
    </div>

    <div class="calc-section">
        <h4>NEAT – Activité non planifiée</h4>
        <label for="calc-steps">Pas quotidiens
            <span class="label-hint">Moyenne sur 7 jours (montre, téléphone)</span>
        </label>
        <input type="number" id="calc-steps" min="0" max="50000" value="8000" step="500">

        <label for="calc-standing">Temps debout actif (hors marche)
            <span class="label-hint">Cuisine, ménage, bricolage, travail debout...</span>
        </label>
        <select id="calc-standing">
            <option value="0">< 1h/jour</option>
            <option value="1" selected>1-2h/jour</option>
            <option value="2">2-4h/jour</option>
            <option value="3">> 4h/jour</option>
        </select>
    </div>

    <div class="calc-section">
        <h4>EAT – Entraînement structuré</h4>
        <label for="calc-training">Sessions par semaine
            <span class="label-hint">Sessions ≥ 30 min</span>
        </label>
        <select id="calc-training">
            <option value="0">0 – Aucun</option>
            <option value="1">1-2 sessions</option>
            <option value="2" selected>3-4 sessions</option>
            <option value="3">5-6 sessions</option>
            <option value="4">7+ sessions</option>
        </select>

        <label for="calc-intensity">Intensité moyenne</label>
        <select id="calc-intensity">
            <option value="3.5">Légère (yoga, marche rapide)</option>
            <option value="5.5" selected>Modérée (musculation, course)</option>
            <option value="8">Intense (HIIT, CrossFit, sprint)</option>
        </select>

        <label for="calc-duration">Durée moyenne par session (min)</label>
        <input type="number" id="calc-duration" min="15" max="180" value="60" step="5">
    </div>

    <button type="button" onclick="calcTDEE()">Calculer</button>

    <div id="calc-output"></div>
</div>

{{ $calcScript := resources.Get "js/calculator.js" | minify | fingerprint }}
<script src="{{ $calcScript.RelPermalink }}" integrity="{{ $calcScript.Data.Integrity }}" crossorigin="anonymous"></script>
